<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', path='/styles.css') }}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
    <link
      rel="icon"
      href="{{ url_for('static', path='/quiz.png') }}"
      type="image/png"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <title>Quiz Web App</title>
  </head>
  <body>
    <header>
      <div class="user-info">
        <p>Hello, <span id="username">{{user_data.name}}</span></p>
      </div>
      <div class="user-actions">
        <button
          type="button"
          class="btn btn-danger btn-block mb-2"
          onclick="window.location.href = 'login'"
        >
          Logout
        </button>
        <div class="user-profile-icon">
          <img
            src="{{ url_for('static', path='/lion.jpg') }}"
            alt="User Profile"
          />
        </div>
      </div>
    </header>

    <form id="quizForm">
      <label for="topic">Topic:</label>
      <select id="topic" name="topic" required>
        <option value="Linux">Linux</option>
        <option value="Bash">Bash</option>
        <option value="PHP">PHP</option>
        <option value="Docker">Docker</option>
        <option value="HTML">HTML</option>
        <option value="MySQL">MySQL</option>
        <option value="WordPress">WordPress</option>
        <option value="Laravel">Laravel</option>
        <option value="Kubernetes">Kubernetes</option>
        <option value="JavaScript">JavaScript</option>
        <option value="DevOps">DevOps</option>
      </select>

      <label for="difficulty">Difficulty:</label>
      <select id="difficulty" name="difficulty">
        <option value="Easy">Easy</option>
        <option value="Medium">Medium</option>
        <option value="Hard">Hard</option>
      </select>

      <label for="numQuestions">Number of Questions:</label>
      <input
        type="number"
        id="numQuestions"
        name="numQuestions"
        min="1"
        max="20"
        required
      />

      <button type="button" id="fetchQuiz">
        <i class="fas fa-play-circle"></i> Start Quiz
      </button>
    </form>

    <div id="quizOutput">
      <div class="quiz-header">
        <i class="fas fa-gamepad"></i> Quiz Topic:
        <span id="quizTopic"> Tech </span>
      </div>
      <div class="difficultyLevel">
        <i class="fas fa-tachometer-alt"></i> Difficulty:
        <span id="quizDifficulty"> Level </span>
      </div>
      <div class="quiz-timer">
        <i class="fas fa-clock"></i> <span id="quizTimer">Timer: 00:00</span>
      </div>
      <div id="quizOutputQuestions"></div>
      <div id="buttonsContainer">
        <button id="submitQuiz">
          <i class="fas fa-check"></i> Submit Quiz
        </button>
        <button id="resetQuiz"><i class="fas fa-undo"></i> Reset</button>
        <button id="goToHomepage" onclick="window.location.href = 'quiz'">
          <i class="fas fa-home"></i> Homepage
        </button>
      </div>
    </div>

    <div id="results">
      <h1 style="color: #333">Results</h1>
      <table>
        <tr>
          <th style="background-color: #4285f4; color: #fff">Quiz Topic</th>
          <td class="topic" id="quizTopicTb">Quiz Topic</td>
        </tr>
        <tr>
          <th style="background-color: #4285f4; color: #fff">
            Difficulty Level
          </th>
          <td id="quizDifficultyTb"></td>
        </tr>
        <tr>
          <th style="background-color: #4285f4; color: #fff">Time Taken</th>
          <td id="timeTaken"></td>
        </tr>
        <tr>
          <th style="background-color: #4285f4; color: #fff">Score</th>
          <td id="resultsText"></td>
        </tr>
        <tr>
          <th style="background-color: #4285f4; color: #fff">Accuracy</th>
          <td id="resultsAccuracy"></td>
        </tr>
      </table>
      <button id="analyzeAnswers">
        <i class="fas fa-tasks"></i> Analyze Answers
      </button>
        <div class="container">
            <h2 style="color: #333">Presvious Stats</h2>
        </div>
    </div>

    <script src="{{ url_for('static', path='/script.js')}}"></script>
    <script>
      function submitData() {
        const topicName = document.getElementById("quizTopicTb");
        const difficulty = document.getElementById("quizDifficultyTb");;
        const timeTaken = document.getElementById("timeTaken");
        const score = document.getElementById("resultsText");;
        const accuracy = document.getElementById("resultsAccuracy");;
        var dict2 = {
          "Topic": topicName,
          "Difficulty": difficulty,
          "Time Taken": timeTaken,
          "Score": score,
          "Accuracy": accuracy
        };

        const mail = user_data.email;
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
